const c=[{name:"Dark",value:"#000"},{name:"Light",value:"#fff"}],n=()=>window.__STORYBOOK_ADDONS_CHANNEL__||null,u=(r,d)=>({components:{story:r},template:`<div v-bind="isDark ? { class: 'u-onDark' } : {}"><story /></div>`,data(){return{isDark:!1,currentBg:"#fff"}},mounted(){this.updateTheme();const a=n();a&&a.on("globalsUpdated",this.handleGlobalsUpdate)},beforeUnmount(){const a=n();a&&a.off("globalsUpdated",this.handleGlobalsUpdate)},methods:{updateTheme(){var e,o,s;let a=((o=(e=d.globals)==null?void 0:e.backgrounds)==null?void 0:o.value)||"#fff";if(a==="#fff"){const t=new URLSearchParams(window.location.search).get("globals");if(t)try{a=((s=JSON.parse(decodeURIComponent(t)).backgrounds)==null?void 0:s.value)||"#fff"}catch(l){console.warn(l)}}this.currentBg=a,this.isDark=a==="#000"},handleGlobalsUpdate(a){a&&a.globals&&a.globals.backgrounds?(this.currentBg=a.globals.backgrounds.value||"#fff",this.isDark=this.currentBg==="#000"):this.updateTheme()}}}),f={parameters:{controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}},a11y:{element:"#storybook-root"},backgrounds:{default:"Light",values:c}},tags:["autodocs"],decorators:[u]};export{f as default};
